# 4AHITS ITSE Port probing und scanning

---

Name: Xu Matthias Chen   
Klasse: 4AHITS   
Fach: ITSE   
Datum: 03.11.2025   

---

## Übung (port probing)
Beim port probing möchte man herausfinden ob auf einem gewissen port ein Dienst läuft, welcher Dienst dies ist und (wenn möglich) mehr Details wie z.B. Versionsnummern. Diese Information dient als Basis für weitere Angriffe.

telnet, nc (netcat) und curl sind einfache Tools die zum port probing verwendet werden können. Teilweise ist es auch möglich die kontaktierten Dienste dazu zu veranlassen mehr Informationen über sich preiszugeben (banner grabbing).

- Verwende telnet um festzustellen ob ein ssh Server auf Metasploitable läuft
- Finde Bezeichnung und die Versionsnummer des Web Servers auf Metasploitable heraus. Auf 3 Arten:
 - Verwende telnet
 - Verwende nc (netcat)
  - Hinweis: der notwendige http request header kann am besten mit Hilfe eines Shell here-documents beschrieben werden.
- Verwende curl
Erstelle ein port probing cheat sheet für alle 3 Tools

### Arbeitsschritte

#### Befehl um ssh Server Status festzustellen:

```
telnet 192.168.19.52 22
```

#### Ausgabe:

```
Trying 192.168.19.52...
Connected to 192.168.19.52.
Escape character is '^]'.
SSH-2.0-OpenSSH_4.7p1 Debian-8ubuntu1
```
#### Befehl um Webserver Informationen zu erhalten:

```
telnet 192.168.19.52 80
```

#### Ausgabe:

```
Trying 192.168.19.52...
Connected to 192.168.19.52.
Escape character is '^]'.
HEAD / HTTP/1.0

HTTP/1.1 200 OK
Date: Mon, 13 Oct 2025 11:43:14 GMT
Server: Apache/2.2.8 (Ubuntu) DAV/2
X-Powered-By: PHP/5.2.4-2ubuntu5.10
Connection: close
Content-Type: text/html

Connection closed by foreign host.
```

#### Ausgabe:
```
Trying 192.168.19.52...
Connected to 192.168.19.52.
Escape character is '^]'.
SSH-2.0-OpenSSH_4.7p1 Debian-8ubuntu1
```

#### Befehl um Webserver Informationen zu erhalten:

```
nc 192.168.19.52 80      
```

#### Ausgabe:

```
HEAD / HHTP/1.0

HTTP/1.1 200 OK
Date: Mon, 13 Oct 2025 11:58:15 GMT
Server: Apache/2.2.8 (Ubuntu) DAV/2
X-Powered-By: PHP/5.2.4-2ubuntu5.10
Connection: close
Content-Type: text/html
```

#### Befehl um Webserver Informationen zu erhalten:

```
curl --head 192.168.19.52 80   
```

#### Ausgabe:

```
HTTP/1.1 200 OK
Date: Mon, 13 Oct 2025 12:00:12 GMT
Server: Apache/2.2.8 (Ubuntu) DAV/2
X-Powered-By: PHP/5.2.4-2ubuntu5.10
Content-Type: text/html
```

## Übung (netcat port scan)
Ermittle mit Hilfe von netcat welche Ports zwischen 1 und 30 in der Metasploitable VM geöffnet sind – Hinweis: dies geht in einer einzigen Kommandozeile. Recherchiere welche Dienste sich dort befinden.

Randnotitz: netcat wird auch gerne als das swiss army knife of network tools bezeichnet.

### Arbeitsschritte

#### Befehl:

```
nc -zvn -w1 192.168.19.52 1-30 
```

#### Ausgabe:

```
(UNKNOWN) [192.168.19.52] 25 (smtp) open
(UNKNOWN) [192.168.19.52] 23 (telnet) open
(UNKNOWN) [192.168.19.52] 22 (ssh) open
(UNKNOWN) [192.168.19.52] 21 (ftp) open
```

Erklärung der Optionen:

- -z : Zero-I/O (nur Connect-Test, keine Daten übertragen)

- -v : verbose — zeigt „succeeded“ / „failed“ für jeden Port

- -n : keine DNS-Auflösung (schneller, keine Reverse-Lookups)

- -w1: Timeout 1 Sekunde (anpassbar)

- 1-30: Portbereich


## Übung (nmap port scan)
Nach dem ping scan (und wenn nicht die Option -sn angegeben ist) führt nmap automatisch einen port scan auf allen gefundenen hosts aus. Dabei wird versucht alle offenen Ports eines Hosts zu finden. Das Ziel ist eine Liste der am Host laufenden Dienste zu erhalten.

Hinweise: Man kann eine einzelne IP Adresse angeben, dann wird nur diese gescannt, z.B.: nmap 192.168.178.42

Siehe List of TCP and UDP port numbers

Aufgaben:

- Führe einen port scan auf die Metasploitable VM durch. Analysiere das Ergebnis.

- Experimentiere mit den Optionen für (Victim ist Metasploitable VM):
 - Scannen aller möglichen Ports. Macht das bei Metasploitable, verglichen zum Default Verhalten, einen Unterschied?
 - Überspringen Ping-Scan/Host-Discovery. Warum kann diese Option notwendig sein?
 - Service/Version Detection
 - OS Erkennung
 - Aggressive Scan
 - Timing/Speed
 - Ausgabe in Dateien
 - die Option --reason
 - nur die N häufigsten Ports scannen (dokumentiere den Geschwindigkeitsgewinn)
- Führe weitere port scans durch, auf:
 - einem Kali Linux auf einem anderen Rechner
 - einem Windows System
 - dem Default Gateway im Labor Netz
- Was kann alles mit einem port scan herausgefunden werden? Dokumentiere!

### Arbeitsschritte

#### Scannen aller Ports:

```
sudo nmap -p- 192.168.19.52
```

#### Scannen aller Ports:

```
sudo nmap -p- 192.168.19.52
```


- Überspringen Ping-Scan/Host-Discovery. Warum kann diese Option notwendig sein?
 
Manche Hosts/Firewalls blockieren ICMP oder einzelne Probe-Pings → Host würde als „down“ erscheinen und nicht gescannt werden.

-Pn zwingt nmap, ohne Host-Discovery direkt Ports zu scannen. Nützlich bei stark gefilterten Zielnetzwerken oder wenn ICMP/ARP geblockt wird.

#### Ping-Scan überspringen / Host-Discovery auslassen:
```
nmap -Pn 192.168.19.52
```

#### Service / Version Detection:
```
sudo nmap -sV 192.168.19.52
```

